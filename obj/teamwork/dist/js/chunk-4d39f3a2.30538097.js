(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d39f3a2"],{"0bfb":function(t,e,a){"use strict";var i=a("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,a){var i=a("52a7"),n=a("4630"),o=a("6821"),r=a("6a99"),s=a("69a8"),c=a("c69a"),l=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?l:function(t,e){if(t=o(t),e=r(e,!0),c)try{return l(t,e)}catch(a){}if(s(t,e))return n(!i.f.call(t,e),t[e])}},"3b2b":function(t,e,a){var i=a("7726"),n=a("5dbc"),o=a("86cc").f,r=a("9093").f,s=a("aae3"),c=a("0bfb"),l=i.RegExp,u=l,d=l.prototype,p=/a/g,f=/a/g,h=new l(p)!==p;if(a("9e1e")&&(!h||a("79e5")(function(){return f[a("2b4c")("match")]=!1,l(p)!=p||l(f)==f||"/a/i"!=l(p,"i")}))){l=function(t,e){var a=this instanceof l,i=s(t),o=void 0===e;return!a&&i&&t.constructor===l&&o?t:n(h?new u(i&&!o?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&o?c.call(t):e),a?this:d,l)};for(var b=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=r(u),v=0;g.length>v;)b(g[v++]);d.constructor=l,l.prototype=d,a("2aba")(i,"RegExp",l)}a("7a56")("RegExp")},"520c":function(t,e,a){},"5dbc":function(t,e,a){var i=a("d3f4"),n=a("8b97").set;t.exports=function(t,e,a){var o,r=e.constructor;return r!==a&&"function"==typeof r&&(o=r.prototype)!==a.prototype&&i(o)&&n&&n(t,o),t}},"7f95":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gd-list"},[a("h2",{staticClass:"tt"},[t._v("商品列表")]),a("el-row",{staticClass:"row-bg action",attrs:{type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("商品id:")]),a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1),a("el-table",{staticClass:"gd-tb",staticStyle:{width:"100%"},attrs:{data:t.nowData,"default-sort":{prop:"pid",order:"descending"},stripe:""}},[a("el-table-column",{attrs:{prop:"pid",label:"商品编号",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"tit",label:"商品名称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"store",label:"库存",sortable:""}}),a("el-table-column",{attrs:{prop:"price_home",label:"现价",formatter:t.priceHome}}),a("el-table-column",{attrs:{prop:"price_ref",label:"原价",formatter:t.priceRef}}),a("el-table-column",{attrs:{prop:"sales",label:"销量"}}),a("el-table-column",{attrs:{label:"操作",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"page_btn",attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":"",total:t.gdList.length,"current-page":t.currentPage},on:{"size-change":t.updateData,"current-change":t.setNow}}),a("van-popup",{style:{width:"500px",background:"#fff"},attrs:{round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("h2",{staticClass:"edit-tt"},[t._v("修改商品")]),a("van-divider"),a("div",{staticClass:"edit-form"},[a("van-field",{attrs:{clearable:"",label:"编号",placeholder:t.editData.pid},model:{value:t.editData.pid,callback:function(e){t.$set(t.editData,"pid",e)},expression:"editData.pid"}}),a("van-field",{attrs:{clearable:"",label:"商品名称"},model:{value:t.editData.tit,callback:function(e){t.$set(t.editData,"tit",e)},expression:"editData.tit"}}),a("van-field",{attrs:{clearable:"",label:"库存"},model:{value:t.editData.store,callback:function(e){t.$set(t.editData,"store",e)},expression:"editData.store"}}),a("van-field",{attrs:{clearable:"",label:"现价"},model:{value:t.editData.price_home,callback:function(e){t.$set(t.editData,"price_home",e)},expression:"editData.price_home"}}),a("van-field",{attrs:{clearable:"",label:"原价"},model:{value:t.editData.price_ref,callback:function(e){t.$set(t.editData,"price_ref",e)},expression:"editData.price_ref"}})],1),a("van-divider"),a("van-row",{staticClass:"editBtn",attrs:{type:"flex",justify:"end"}},[a("van-col",[a("van-button",{staticClass:"cancel",attrs:{type:"default",size:"small"},on:{click:t.editCancel}},[t._v("取消")])],1),a("van-col",[a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.editSave}},[t._v("保存")])],1)],1)],1)],1)},n=[],o=(a("ac6a"),a("3b2b"),{data:function(){return{options:[{value:"价格升序",label:"价格升序"},{value:"价格降序",label:"价格降序"},{value:"销量降序",label:"销量降序"}],value:"",gdList:[],nowData:[],currentPage:1,show:!1,editData:{},editOldData:{},searchVal:null}},created:function(){var t=this;this.$axios("http://localhost:3000/goods/all").then(function(e){t.gdList=e.data;var a=JSON.stringify(t.gdList);t.nowData=JSON.parse(a).slice(0,10)})},methods:{priceHome:function(t,e){return(t.price_home-0).toFixed(2)},priceRef:function(t,e){return(t.price_ref-0).toFixed(2)},search:function(){var t=new RegExp("^"+this.searchVal);this.gdList.forEach(function(e,a){t.test(e.pid)&&console.log(e)})},handleEdit:function(t,e){var a=e.pid,i=e.tit,n=e.store,o=e.price_home,r=e.price_ref,s=e._id;this.editData={pid:a,tit:i,store:n,price_home:o,price_ref:r,_id:s},this.show=!0},editCancel:function(){this.show=!1},editSave:function(){var t=this;this.$axios.get("http://localhost:3000/goods/update",{params:this.editData}).then(function(t){console.log(t)}),this.$message({message:"更改成功",type:"success"});var e=null;this.nowData.forEach(function(a,i){a._id==t.editData._id&&(e=i)}),this.nowData[e].store=this.editData.store,this.nowData[e].pid=this.editData.pid,this.nowData[e].tit=this.editData.tit,this.nowData[e].price_home=this.editData.price_home,this.nowData[e].price_ref=this.editData.price_ref;var a=JSON.stringify(this.nowData);this.nowData=JSON.parse(a),this.show=!1},handleDelete:function(t,e){var a=this,i=e._id;this.$axios.get("http://localhost:3000/goods/delete",{params:{_id:i}}).then(function(t){console.log(t)}),this.gdList.forEach(function(t,i){a.gdList[i]._id==e._id&&a.gdList.splice(i,1)}),this.setNow(this.currentPage)},updateData:function(){console.log("当前页数据改变啦！")},setNow:function(t){this.currentPage=t;var e=JSON.stringify(this.gdList);this.nowData=JSON.parse(e).splice(10*(t-1),10*t-1)},onSubmit:function(){console.log("提交啦")}},watch:{searchVal:function(){if(""!==this.searchVal){var t=new RegExp("^"+this.searchVal),e=[];this.gdList.forEach(function(a,i){t.test(a.pid)&&e.push(a)}),console.log(e),this.nowData=e}else this.setNow(1)}}}),r=o,s=(a("acec"),a("2877")),c=Object(s["a"])(r,i,n,!1,null,null,null);e["default"]=c.exports},"8b97":function(t,e,a){var i=a("d3f4"),n=a("cb7c"),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:i(t,a),t}}({},!1):void 0),check:o}},9093:function(t,e,a){var i=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},aae3:function(t,e,a){var i=a("d3f4"),n=a("2d95"),o=a("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},ac6a:function(t,e,a){for(var i=a("cadf"),n=a("0d58"),o=a("2aba"),r=a("7726"),s=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(f),b=0;b<h.length;b++){var g,v=h[b],m=f[v],_=r[v],D=_&&_.prototype;if(D&&(D[u]||s(D,u,p),D[d]||s(D,d,v),c[v]=p,m))for(g in i)D[g]||o(D,g,i[g],!0)}},acec:function(t,e,a){"use strict";var i=a("520c"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-4d39f3a2.30538097.js.map